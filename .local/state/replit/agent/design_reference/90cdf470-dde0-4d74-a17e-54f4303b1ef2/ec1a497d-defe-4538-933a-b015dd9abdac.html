<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guardians of the Galaxy Vol. 2 (2017) - TMDB</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    border: "var(--border)",
                    ring: "var(--ring)",
                },
                fontFamily: {
                    sans: ["var(--font-sans)"],
                }
            },
        }
    };
    </script>
    
    <style>
        :root {
            --background: hsl(213 31% 9%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(213 31% 12%);
            --card-foreground: hsl(210 40% 98%);
            --primary: hsl(191 91% 36%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(213 19% 18%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(213 19% 15%);
            --muted-foreground: hsl(215 20.2% 65.1%);
            --accent: hsl(191 91% 36%);
            --accent-foreground: hsl(210 40% 98%);
            --border: hsl(213 19% 18%);
            --ring: hsl(191 91% 36%);
            --radius: 0.5rem;
            --font-sans: "Inter", sans-serif;
        }
        
        body {
            font-family: var(--font-sans);
        }
        
        .hero-bg {
            background: linear-gradient(to right, rgba(13, 37, 63, 0.9) 0%, rgba(13, 37, 63, 0.7) 50%, rgba(13, 37, 63, 0.9) 100%),
                        linear-gradient(to bottom, rgba(13, 37, 63, 0.8) 0%, rgba(13, 37, 63, 0.9) 100%);
        }
        
        .score-circle {
            background: conic-gradient(from 0deg, hsl(142 76% 36%) 0deg, hsl(142 76% 36%) calc(76 * 3.6deg), transparent calc(76 * 3.6deg), transparent 360deg);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes countUp {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .count-up {
            animation: countUp 1s ease-out 0.5s both;
        }
        
        .trailer-modal {
            backdrop-filter: blur(10px);
            background: rgba(13, 37, 63, 0.95);
        }
        
        .smooth-scroll {
            scroll-behavior: smooth;
        }
    </style>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-background text-foreground min-h-screen">
    <div id="app">
        <!-- Navigation Header -->
        <!-- @COMPONENT: NavigationHeader -->
        <nav class="bg-primary shadow-lg sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center space-x-8">
                        <div class="flex-shrink-0">
                            <h1 class="text-2xl font-bold text-primary-foreground">TMDB</h1>
                        </div>
                        <div class="hidden md:flex space-x-6">
                            <a href="#" class="text-primary-foreground hover:text-gray-200 font-medium">Movies</a>
                            <a href="#" class="text-primary-foreground hover:text-gray-200 font-medium">TV Shows</a>
                            <a href="#" class="text-primary-foreground hover:text-gray-200 font-medium">People</a>
                            <a href="#" class="text-primary-foreground hover:text-gray-200 font-medium">More</a>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="text-primary-foreground hover:text-gray-200">
                            <i class="fas fa-search text-lg"></i>
                        </button>
                        <button class="text-primary-foreground hover:text-gray-200">
                            <span class="font-medium">EN</span>
                        </button>
                        <button class="text-primary-foreground hover:text-gray-200">
                            <span class="font-medium">Login</span>
                        </button>
                        <button class="text-primary-foreground hover:text-gray-200">
                            <span class="font-medium">Join TMDB</span>
                        </button>
                        <button class="md:hidden text-primary-foreground">
                            <i class="fas fa-bars text-lg"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>
        <!-- @END_COMPONENT: NavigationHeader -->

        <!-- Sub Navigation -->
        <!-- @COMPONENT: SubNavigation -->
        <div class="bg-background border-b border-border">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex space-x-8 overflow-x-auto">
                    <button @click="activeTab = 'overview'" 
                            :class="activeTab === 'overview' ? 'border-accent text-accent' : 'border-transparent text-muted-foreground'"
                            class="py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap hover:text-foreground transition-colors">
                        Overview
                    </button>
                    <button @click="activeTab = 'media'" 
                            :class="activeTab === 'media' ? 'border-accent text-accent' : 'border-transparent text-muted-foreground'"
                            class="py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap hover:text-foreground transition-colors">
                        Media
                    </button>
                    <button @click="activeTab = 'fandom'" 
                            :class="activeTab === 'fandom' ? 'border-accent text-accent' : 'border-transparent text-muted-foreground'"
                            class="py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap hover:text-foreground transition-colors">
                        Fandom
                    </button>
                    <button @click="activeTab = 'share'" 
                            :class="activeTab === 'share' ? 'border-accent text-accent' : 'border-transparent text-muted-foreground'"
                            class="py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap hover:text-foreground transition-colors">
                        Share
                    </button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: SubNavigation -->

        <!-- Hero Section -->
        <!-- @COMPONENT: HeroSection -->
        <!-- A vibrant space scene from Guardians of the Galaxy with colorful nebulas and cosmic elements -->
        <section class="hero-bg min-h-screen flex items-center" 
                 style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080');">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                    <!-- Movie Poster -->
                    <div class="lg:col-span-1 fade-in">
                        <div class="relative">
                            <img :src="movieData.Poster" 
                                 :alt="movieData.Title + ' poster'"
                                 class="w-full max-w-sm mx-auto lg:mx-0 rounded-lg shadow-2xl">
                            <div class="absolute -bottom-4 -right-4 hidden lg:block">
                                <button @click="showTrailerModal = true" 
                                        class="bg-accent hover:bg-accent/90 text-accent-foreground px-6 py-3 rounded-lg font-semibold shadow-lg transition-all duration-300 hover:scale-105">
                                    <i class="fas fa-play mr-2"></i>
                                    Play Trailer
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Movie Details -->
                    <div class="lg:col-span-2 space-y-6 fade-in">
                        <div>
                            <h1 class="text-4xl lg:text-5xl font-bold text-foreground mb-2">
                                {{ movieData.Title }}
                                <span class="text-3xl lg:text-4xl text-muted-foreground font-normal">({{ movieData.Year }})</span>
                            </h1>
                            
                            <div class="flex flex-wrap items-center gap-4 text-muted-foreground mb-6">
                                <span class="bg-muted px-2 py-1 rounded text-sm font-medium">{{ movieData.Rated }}</span>
                                <span>{{ movieData.Released }}</span>
                                <span>{{ movieData.Runtime }}</span>
                                <div class="flex flex-wrap gap-2">
                                    <!-- @MAP: genres.map(genre => ( -->
                                    <span v-for="genre in movieData.Genre.split(', ')" :key="genre" 
                                          class="text-accent hover:underline cursor-pointer">
                                        {{ genre }}
                                    </span>
                                    <!-- @END_MAP )) -->
                                </div>
                            </div>

                            <!-- User Score and Actions -->
                            <div class="flex flex-wrap items-center gap-6 mb-6">
                                <!-- User Score Circle -->
                                <div class="flex items-center gap-3">
                                    <div class="relative w-16 h-16">
                                        <div class="score-circle w-full h-full rounded-full p-1">
                                            <div class="bg-background rounded-full w-full h-full flex items-center justify-center">
                                                <span class="text-lg font-bold count-up">{{ Math.round(movieData.imdbRating * 10) }}%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-sm">
                                        <div class="font-semibold">User</div>
                                        <div class="text-muted-foreground">Score</div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="flex items-center gap-4">
                                    <button class="flex items-center gap-2 text-muted-foreground hover:text-accent transition-colors">
                                        <i class="fas fa-list text-lg"></i>
                                    </button>
                                    <button class="flex items-center gap-2 text-muted-foreground hover:text-red-500 transition-colors">
                                        <i class="fas fa-heart text-lg"></i>
                                    </button>
                                    <button class="flex items-center gap-2 text-muted-foreground hover:text-yellow-500 transition-colors">
                                        <i class="fas fa-bookmark text-lg"></i>
                                    </button>
                                    <button class="flex items-center gap-2 text-muted-foreground hover:text-accent transition-colors">
                                        <i class="fas fa-star text-lg"></i>
                                    </button>
                                </div>

                                <!-- Play Trailer Button (Mobile) -->
                                <button @click="showTrailerModal = true" 
                                        class="lg:hidden bg-accent hover:bg-accent/90 text-accent-foreground px-6 py-3 rounded-lg font-semibold shadow-lg transition-all duration-300">
                                    <i class="fas fa-play mr-2"></i>
                                    Play Trailer
                                </button>
                            </div>

                            <!-- Tagline/Plot -->
                            <div class="space-y-4">
                                <p class="text-lg italic text-muted-foreground">
                                    Obviously.
                                </p>
                                <div>
                                    <h3 class="text-xl font-semibold mb-2">Overview</h3>
                                    <p class="text-foreground leading-relaxed">
                                        {{ movieData.Plot }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Crew Information -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pt-6">
                            <div>
                                <h4 class="font-semibold text-foreground">{{ movieData.Director }}</h4>
                                <p class="text-sm text-muted-foreground">Director, Writer</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-foreground">{{ movieData.Writer.split(',')[0] }}</h4>
                                <p class="text-sm text-muted-foreground">Characters</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-foreground">Marvel Studios</h4>
                                <p class="text-sm text-muted-foreground">Production</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: HeroSection -->

        <!-- Main Cast Section -->
        <!-- @COMPONENT: CastSection -->
        <section v-if="activeTab === 'overview'" class="bg-background py-12 fade-in">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-2xl font-bold text-foreground">Top Billed Cast</h2>
                    <button class="text-accent hover:text-accent/80 font-medium">
                        View More <i class="fas fa-arrow-right ml-1"></i>
                    </button>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                    <!-- @MAP: cast.map(member => ( -->
                    <div v-for="(actor, index) in mainCast" :key="index" 
                         class="bg-card rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
                        <div class="aspect-[3/4] bg-muted">
                            <!-- A professional headshot of a diverse actor in their 30s -->
                            <img :src="`https://images.unsplash.com/photo-${actor.imageId}?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=400`" 
                                 :alt="actor.name"
                                 class="w-full h-full object-cover">
                        </div>
                        <div class="p-3">
                            <h3 class="font-semibold text-card-foreground text-sm truncate">{{ actor.name }}</h3>
                            <p class="text-muted-foreground text-xs mt-1 truncate">{{ actor.character }}</p>
                        </div>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: CastSection -->

        <!-- Enhanced Trailer Modal (IMPROVEMENT 1) -->
        <!-- @COMPONENT: TrailerModal -->
        <div v-if="showTrailerModal" 
             class="fixed inset-0 z-50 flex items-center justify-center trailer-modal"
             @click="showTrailerModal = false">
            <div class="relative max-w-4xl w-full mx-4" @click.stop>
                <button @click="showTrailerModal = false" 
                        class="absolute -top-12 right-0 text-white hover:text-gray-300 text-2xl">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="bg-card rounded-lg overflow-hidden shadow-2xl">
                    <!-- Enhanced Video Preview Section -->
                    <div class="aspect-video bg-black flex items-center justify-center relative">
                        <!-- Movie scene preview background -->
                        <!-- A dramatic space battle scene from Guardians of the Galaxy with bright explosions and spaceships -->
                        <div class="absolute inset-0 bg-cover bg-center opacity-50"
                             style="background-image: url('https://images.unsplash.com/photo-1516339901601-2e1b62dc0c45?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080');"></div>
                        
                        <div class="relative z-10 text-center">
                            <button class="bg-accent/20 backdrop-blur-sm border-2 border-accent rounded-full w-20 h-20 flex items-center justify-center hover:bg-accent/30 transition-all duration-300 mb-4">
                                <i class="fas fa-play text-accent text-2xl ml-1"></i>
                            </button>
                            <p class="text-white text-lg font-semibold">Official Trailer</p>
                            <p class="text-gray-300 text-sm">2:17 • Marvel Studios</p>
                        </div>
                    </div>
                    
                    <!-- Enhanced Metadata Section -->
                    <div class="p-6 space-y-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="text-xl font-bold text-card-foreground">{{ movieData.Title }} - Official Trailer</h3>
                                <p class="text-muted-foreground mt-1">Released {{ movieData.Released }} • {{ movieData.Runtime }}</p>
                            </div>
                            <div class="flex gap-2">
                                <button class="text-muted-foreground hover:text-accent transition-colors">
                                    <i class="fas fa-share text-lg"></i>
                                </button>
                                <button class="text-muted-foreground hover:text-red-500 transition-colors">
                                    <i class="fas fa-heart text-lg"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <span v-for="genre in movieData.Genre.split(', ')" :key="genre"
                                  class="bg-muted px-3 py-1 rounded-full text-sm text-muted-foreground">
                                {{ genre }}
                            </span>
                        </div>
                        
                        <p class="text-card-foreground">{{ movieData.Plot }}</p>
                        
                        <div class="flex items-center gap-4 pt-2 border-t border-border">
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 bg-accent rounded-full flex items-center justify-center">
                                    <span class="text-accent-foreground text-sm font-bold">{{ Math.round(movieData.imdbRating * 10) }}%</span>
                                </div>
                                <span class="text-sm text-muted-foreground">User Score</span>
                            </div>
                            <div class="text-sm text-muted-foreground">
                                <i class="fas fa-star text-yellow-500 mr-1"></i>
                                {{ movieData.imdbRating }}/10 ({{ movieData.imdbVotes }} votes)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: TrailerModal -->
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp, ref, onMounted } = Vue

        createApp({
            setup() {
                // @STATE: reactive data properties
                const movieData = ref({})
                const activeTab = ref('overview')
                const showTrailerModal = ref(false)
                const loading = ref(true)
                
                // Mock cast data (since OMDB doesn't provide detailed cast info)
                const mainCast = ref([
                    { name: 'Chris Pratt', character: 'Peter Quill / Star-Lord', imageId: '1506794778648' },
                    { name: 'Zoe Saldaña', character: 'Gamora', imageId: '1494790108755' },
                    { name: 'Dave Bautista', character: 'Drax', imageId: '1507003211169' },
                    { name: 'Bradley Cooper', character: 'Rocket (voice)', imageId: '1472099645262' },
                    { name: 'Vin Diesel', character: 'Groot (voice)', imageId: '1500648767336' },
                    { name: 'Michael Rooker', character: 'Yondu', imageId: '1519244703547' }
                ])

                // @FUNCTIONALITY: Fetch movie data from OMDB API
                const fetchMovieData = async () => {
                    try {
                        const response = await fetch('http://www.omdbapi.com/?i=tt3896198&apikey=d2132124')
                        const data = await response.json()
                        
                        if (data.Response === 'True') {
                            movieData.value = data
                        }
                    } catch (error) {
                        console.error('Error fetching movie data:', error)
                        // Fallback data if API fails
                        movieData.value = {
                            Title: "Guardians of the Galaxy Vol. 2",
                            Year: "2017",
                            Rated: "PG-13",
                            Released: "05 May 2017",
                            Runtime: "136 min",
                            Genre: "Action, Adventure, Comedy",
                            Director: "James Gunn",
                            Writer: "James Gunn, Dan Abnett, Andy Lanning",
                            Actors: "Chris Pratt, Zoe Saldaña, Dave Bautista",
                            Plot: "The Guardians struggle to keep together as a team while dealing with their personal family issues, notably Star-Lord's encounter with his father, the ambitious celestial being Ego.",
                            imdbRating: "7.6",
                            imdbVotes: "806,353",
                            Poster: "https://m.media-amazon.com/images/M/MV5BNWE5MGI3MDctMmU5Ni00YzI2LWEzMTQtZGIyZDA5MzQzNDBhXkEyXkFqcGc@._V1_SX300.jpg"
                        }
                    } finally {
                        loading.value = false
                    }
                }

                // @FUNCTIONALITY: Smooth scroll animations (IMPROVEMENT 2)
                const addScrollAnimations = () => {
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('fade-in')
                            }
                        })
                    }, { threshold: 0.1 })

                    // Observe elements for animation
                    setTimeout(() => {
                        document.querySelectorAll('.fade-in').forEach(el => {
                            observer.observe(el)
                        })
                    }, 100)
                }

                onMounted(() => {
                    fetchMovieData()
                    addScrollAnimations()
                    
                    // Add smooth scrolling to document
                    document.documentElement.classList.add('smooth-scroll')
                })

                return {
                    movieData,
                    activeTab,
                    showTrailerModal,
                    loading,
                    mainCast
                }
            }
        }).mount('#app')
    </script>

    <!-- TODO: Implement Vue router for navigation, state management for user preferences, and API integration for real-time data -->
</body>
</html>